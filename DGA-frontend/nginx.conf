server {
    listen 80;

    # Configuration for the specific subpath where the SPA is deployed
    location /test5/ {
        root /usr/share/nginx/html;
        index index.html index.htm;
        
        # Essential rule for Single Page Applications (SPAs)
        # If a file is not found (e.g., /test5/login), serve /test5/index.html
        try_files $uri $uri/ /test5/index.html;
    }

    # Location for static assets with cache headers
    location ~* \.(js|css|png|jpg|jpeg|gif|ico)$ {
        root /usr/share/nginx/html;
        expires 30d;
        log_not_found off;
    }

    # Default location to handle requests not matching /test5/
    location / {
        return 404;
    }

}