# ⭐️ ลบ 'version' ที่มันเตือนออก
services:
  # --- 1. บริการ Backend (API) ---
  backend:
    build:
      context: ./DGA-back
      # ⭐️ เราต้องสร้าง Dockerfile ให้ Backend ด้วย
      dockerfile: Dockerfile
    container_name: dga_backend_service
    restart: unless-stopped
    ports:
      # ⭐️ เปิด Port 1040 (สำหรับ Backend)
      - "1040:1040"
    env_file:
      - ./DGA-back/.env

  # --- 2. บริการ Frontend (React) ---
  frontend:
    build:
      context: ./DGA-frontend
      dockerfile: Dockerfile
    container_name: dga_frontend_service
    restart: unless-stopped
    ports:
      # ⭐️ เปิด Port 80 (สำหรับ Frontend)
      - "80:80"
    depends_on:
      - backend