version: '3.8'

services:
  # 1. ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ Back-end
  backend:
    build: ./DGA - back  # üëà ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Back-end
    command: npm run dev  # üëà ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ nodemon
    volumes:
      - ./DGA - back:/usr/src/app  # üëà ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö Container (‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏•‡∏¢)
      - /usr/src/app/node_modules # üëà ‡πÑ‡∏°‡πà sync node_modules (‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô Container)
    env_file:
      - ./DGA - back/.env # üëà "‡∏â‡∏µ‡∏î" .env ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ
    ports:
      - "1040:1040" # üëà ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏û‡∏≠‡∏£‡πå‡∏ï (Host:Container)
    # ‚ÄºÔ∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö port ‡πÉ‡∏ô .env ‡πÅ‡∏•‡∏∞ App.jsx ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‚ÄºÔ∏è
    # ‡∏ñ‡πâ‡∏≤ .env ‡πÉ‡∏ä‡πâ PORT=1040, ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô "1040:1040"
    # ‡πÅ‡∏•‡∏∞ App.jsx ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å http://localhost:1040

  # 2. ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ Front-end
  frontend:
    build: ./DGA - Test Project # üëà ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Front-end
    volumes:
      - ./DGA - Test Project:/usr/src/app
      - /usr/src/app/node_modules
    ports:
      - "5173:5173" # üëà ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏û‡∏≠‡∏£‡πå‡∏ï Vite