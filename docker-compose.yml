# ⭐️ ลบ 'version' ที่มันเตือนออก
services:
  # --- 1. บริการ Backend (API) ---
  backend:
    build:
      context: ./DGA-back
      dockerfile: Dockerfile
    container_name: dga_backend_service
    restart: unless-stopped
    ports:
      # ⭐️ เปิด Port 1040 (สำหรับ Backend)
      - "1040:1040"
    env_file:
      - ./DGA-back/.env

  # --- 2. บริการ Frontend (React) ---
  frontend:
    build:
      context: ./DGA-frontend
      dockerfile: Dockerfile
    container_name: dga_frontend_service
    restart: unless-stopped
    ports:
      # ⭐️⭐️ แก้ไขตรงนี้ ⭐️⭐️
      # Map Port 8080 (Host) ไปที่ Port 80 (Container)
      - "8084:84"
    depends_on:
      - backend